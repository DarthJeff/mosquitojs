/*! mosquitojs - v0.1.1 - 2016-03-30
* Copyright (c) 2016 Jeff Brannon; Licensed MIT */
"use strict";window.mosquito=new function(){function a(a){function b(a){for(var b=0;b<k.length;b++){var c=k[b].service(a);if(void 0!==c)return void 0===c.instance&&(c.serviceType===e.service?c.instance=f(c):c.instance=d(c)),c.instance}throw"Service undefined: "+a}function c(a){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c}function d(a){if(void 0!==a.observableInterfaces)for(var b=0;b<a.observableInterfaces.length;b++){var d=a.observableInterfaces[b];void 0===n[d]&&(n[d]=[]),n[d].push(a)}var e=c(a.dependentServices);return a.constructor.apply(this,e)}function f(a){return new d(a)}function g(a,b,c,d,e){if(d){if(void 0!==m[b]&&!e)throw"Service already defined: "+b;var f={serviceType:a,dependentServices:c,constructor:d};return j(f),m[b]=f}return m[b]}function h(a){var b={dependentServices:[],constructor:a};return a instanceof Array&&(b.constructor=a.pop(),b.dependentServices=a),b}function i(a,b){return function(){this.next=function(c,d){if(-1===b.indexOf(c))throw"Observable method not declared: "+c;for(var e=n[a],f=0;f<e.length;f++)void 0!==e[f].instance&&e[f].instance[c](d)}}}function j(a){a.fromObservableInterface=function(b){a.observableInterfaces=b}}a.push(this);var k=a,l=[],m=[],n=[];this.controller=function(a,b){if(b){if(void 0!==l[a])throw"Controller already defined: "+a;return l[a]=h(b),j(l[a]),l[a]}if(void 0===l[a])throw"Controller undefined: "+a;return void 0===l[a].instance&&(l[a].instance=f(l[a])),l[a].instance},this.service=function(a,b){var c=h(b);return g(e.service,a,c.dependentServices,c.constructor)},this.factory=function(a,b){var c=h(b);return g(e.factory,a,c.dependentServices,c.constructor)},this.provider=function(a,b){var c=g(e.provider,a,[],b),d=f(c),i=h(d.$get);return g(e.provider,a,i.dependentServices,i.constructor,!0)},this.observableInterface=function(a,b){return g(e.service,a,[],i(a,b))}}function b(a){if(void 0===d[a])throw"Module undefined: "+a;return d[a]}function c(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(b(e))}return c}var d=[],e={service:1,factory:2,provider:3};this.module=function(e,f){if(!f)return b(e);if(void 0!==d[e])throw"Module already defined: "+e;try{return d[e]=new a(c(f))}catch(g){throw"Error defining module: "+e+" - "+g}}};
